---
title: Arquitetura de alto nível para a UE-V 1.0
description: Arquitetura de alto nível para a UE-V 1.0
author: dansimp
ms.assetid: d54f9f10-1a4d-4e56-802d-22d51646e1cc
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 76703cf4c7297401e6516830bf194cef741d60ec
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/26/2020
ms.locfileid: "10800004"
---
# <span data-ttu-id="9e9d2-103">Arquitetura de alto nível para a UE-V 1.0</span><span class="sxs-lookup"><span data-stu-id="9e9d2-103">High-Level Architecture for UE-V 1.0</span></span>


<span data-ttu-id="9e9d2-104">Este tópico descreve os elementos arquitetônicos de alto nível da solução de roaming de configurações do Microsoft User Experience Virtualization (UE-V).</span><span class="sxs-lookup"><span data-stu-id="9e9d2-104">This topic describes high-level architectural elements of the Microsoft User Experience Virtualization (UE-V) settings roaming solution.</span></span> <span data-ttu-id="9e9d2-105">Os elementos a seguir fazem parte de uma implantação padrão do UE-V.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-105">The following elements are part of a standard UE-V deployment.</span></span>

![diagrama arquitetônico do agente do UE-v](images/ue-vagentarchitecturaldiagram.gif)

<span data-ttu-id="9e9d2-107">O UE-V Agent monitora os aplicativos e os processos do sistema operacional conforme eles são identificados nos modelos de local das configurações do UE-V.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-107">The UE-V Agent monitors the applications and the operating system processes as they are identified in the UE-V settings location templates.</span></span> <span data-ttu-id="9e9d2-108">Quando o aplicativo ou sistema operacional é iniciado, as configurações são lidas do pacote de configurações e aplicadas ao computador.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-108">When the application or operating system starts, the settings are read from the settings package and applied to the computer.</span></span> <span data-ttu-id="9e9d2-109">Quando o aplicativo é fechado ou quando o sistema operacional está bloqueado ou desligado, as configurações são salvas em um pacote de configurações de UE-V no local de armazenamento configurações.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-109">When the application closes or when the operating system is locked or shut down, settings are saved in a UE-V settings package in the settings storage location.</span></span>

## <span data-ttu-id="9e9d2-110">Local de armazenamento de configurações</span><span class="sxs-lookup"><span data-stu-id="9e9d2-110">Settings storage location</span></span>


<span data-ttu-id="9e9d2-111">O local de armazenamento de configurações é um compartilhamento de arquivos que o agente de virtualização da experiência do usuário acessa para as configurações de leitura e gravação.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-111">The settings storage location is a file share that the User Experience Virtualization agent accesses to read and write settings.</span></span> <span data-ttu-id="9e9d2-112">Este local é o diretório base do Active Directory ou definido durante a instalação do UE-V.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-112">This location is either the Active Directory home directory or defined during the UE-V installation.</span></span> <span data-ttu-id="9e9d2-113">Você pode definir o local durante a instalação do UE-V Agent ou pode configurá-lo mais tarde com política de grupo, WMI ou PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-113">You can set the location during the installation of the UE-V agent, or you can set it later with Group Policy, WMI, or PowerShell.</span></span> <span data-ttu-id="9e9d2-114">O local pode estar em qualquer compartilhamento de arquivo comum que os usuários possam acessar.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-114">The location can be on any common file share that users can access.</span></span> <span data-ttu-id="9e9d2-115">Se nenhuma configuração de local de armazenamento for definida durante a instalação, o UE-V usará o diretório base no Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-115">If no setting storage location is set during installation then UE-V will use the home directory in Active Directory.</span></span> <span data-ttu-id="9e9d2-116">O UE-V Agent verifica o local e cria uma pasta do sistema que está oculta do usuário para armazenar e acessar as configurações do usuário.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-116">The UE-V agent verifies the location and creates a system folder that is hidden from the user in which to store and access the user settings.</span></span> <span data-ttu-id="9e9d2-117">Para obter mais informações sobre o armazenamento de configurações, consulte [preparando seu ambiente para UE-V](preparing-your-environment-for-ue-v.md).</span><span class="sxs-lookup"><span data-stu-id="9e9d2-117">For more information about settings storage, see [Preparing Your Environment for UE-V](preparing-your-environment-for-ue-v.md).</span></span>

## <span data-ttu-id="9e9d2-118">UE-V Agent</span><span class="sxs-lookup"><span data-stu-id="9e9d2-118">UE-V Agent</span></span>


<span data-ttu-id="9e9d2-119">O UE-V Agent está instalado em cada computador com configurações sincronizadas pela virtualização da experiência do usuário.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-119">The UE-V agent is installed on each computer with settings that are synchronized by User Experience Virtualization.</span></span> <span data-ttu-id="9e9d2-120">O agente monitora os aplicativos registrados e o sistema operacional em busca de alterações feitas nas configurações e sincroniza essas configurações entre computadores.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-120">The agent monitors the registered applications and the operating system for any changes to that are made to settings, and it synchronizes those settings between computers.</span></span> <span data-ttu-id="9e9d2-121">As configurações são aplicadas do local de armazenamento de configurações ao aplicativo quando o aplicativo é iniciado.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-121">Settings are applied from the settings storage location to the application when the application is started.</span></span> <span data-ttu-id="9e9d2-122">As configurações serão salvas novamente no local de armazenamento de configurações quando o aplicativo for fechado.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-122">The settings are then saved back to the settings storage location when the application closes.</span></span> <span data-ttu-id="9e9d2-123">As configurações do sistema operacional são aplicadas quando o usuário faz logon, quando o computador é desbloqueado ou quando o usuário se conecta remotamente ao computador usando o RDP (protocolo de área de trabalho remota).</span><span class="sxs-lookup"><span data-stu-id="9e9d2-123">The operating system settings are applied when the user logs on, when the computer is unlocked, or when the user connects remotely to the computer by using remote desktop protocol (RDP).</span></span> <span data-ttu-id="9e9d2-124">O agente salva as configurações quando o usuário faz logoff, quando o computador está bloqueado ou quando uma conexão remota é desconectada.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-124">The agent saves settings when the user logs off, when the computer is locked, or when a remote connection is disconnected.</span></span> <span data-ttu-id="9e9d2-125">Para obter mais informações sobre o UE-V Agent, consulte [preparando seu ambiente para UE-v](preparing-your-environment-for-ue-v.md).</span><span class="sxs-lookup"><span data-stu-id="9e9d2-125">For more information about the UE-V Agent, see [Preparing Your Environment for UE-V](preparing-your-environment-for-ue-v.md).</span></span>

## <a href="" id="bkmk-settingslocationtemplate"></a><span data-ttu-id="9e9d2-126">Modelos de local de configurações</span><span class="sxs-lookup"><span data-stu-id="9e9d2-126">Settings location templates</span></span>


<span data-ttu-id="9e9d2-127">O modelo de local de configurações é um arquivo XML que define os locais de configurações a serem monitorados pela virtualização da experiência do usuário.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-127">The settings location template is an XML file that defines the settings locations to be monitored by User Experience Virtualization.</span></span> <span data-ttu-id="9e9d2-128">Somente as configurações locais definidas nesses modelos de configurações são capturadas ou aplicadas em computadores que executam o UE-V Agent.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-128">Only the settings locations defined in these settings templates are captured or applied on computers running the UE-V Agent.</span></span> <span data-ttu-id="9e9d2-129">O modelo de local de configurações não contém valores de configurações, somente os locais onde os valores são armazenados no computador.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-129">The settings location template does not contain settings values, only the locations where values are stored on the computer.</span></span>

<span data-ttu-id="9e9d2-130">O UE-V inclui um conjunto de modelos de local de configurações que especificam locais de configurações para alguns aplicativos e configurações do Windows.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-130">UE-V includes a set of settings location templates that specify settings locations for some Microsoft applications and Windows settings.</span></span> <span data-ttu-id="9e9d2-131">Um administrador pode criar modelos de local de configurações personalizadas usando o UE-V Generator.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-131">An administrator can create custom settings location templates by using the UE-V Generator.</span></span>

[<span data-ttu-id="9e9d2-132">Planejar quais aplicativos devem ser sincronizados com a UE-V 1.0</span><span class="sxs-lookup"><span data-stu-id="9e9d2-132">Planning Which Applications to Synchronize with UE-V 1.0</span></span>](planning-which-applications-to-synchronize-with-ue-v-10.md)

[<span data-ttu-id="9e9d2-133">Planejar a implantação de modelo personalizado para a UE-V 1.0</span><span class="sxs-lookup"><span data-stu-id="9e9d2-133">Planning for Custom Template Deployment for UE-V 1.0</span></span>](planning-for-custom-template-deployment-for-ue-v-10.md)

[<span data-ttu-id="9e9d2-134">Como trabalhar com modelos personalizados da UE-V e com o gerador da UE-V</span><span class="sxs-lookup"><span data-stu-id="9e9d2-134">Working with Custom UE-V Templates and the UE-V Generator</span></span>](working-with-custom-ue-v-templates-and-the-ue-v-generator.md)

## <span data-ttu-id="9e9d2-135">Pacotes de configurações</span><span class="sxs-lookup"><span data-stu-id="9e9d2-135">Settings packages</span></span>


<span data-ttu-id="9e9d2-136">As configurações do aplicativo e as configurações do Windows são armazenadas em pacotes de configurações, que são criados pelo UE-V Agent.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-136">Application settings and Windows settings are stored in settings packages, which are created by the UE-V Agent.</span></span> <span data-ttu-id="9e9d2-137">Um pacote de configurações é uma coleção das configurações que são representadas nos modelos de local de configurações.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-137">A settings package is a collection of the settings that are represented in the settings location templates.</span></span> <span data-ttu-id="9e9d2-138">Esses pacotes de configurações são compilados, armazenados localmente e, em seguida, copiados para o local de armazenamento de configurações.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-138">These settings packages are built, locally stored, and then copied to the settings storage location.</span></span> <span data-ttu-id="9e9d2-139">"Última gravação de WINS" determina quais configurações serão preservadas quando um único usuário sincronizar o mais de um computador com um local de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-139">“Last write wins” determines which settings are preserved when a single user synchronizes the more than one computer to a storage location.</span></span> <span data-ttu-id="9e9d2-140">O agente executado em um computador lê e grava no local de configurações independentemente dos agentes executados em outros computadores.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-140">The agent that runs on one computer reads and writes to the settings location independent of agents that run on other computers.</span></span> <span data-ttu-id="9e9d2-141">As configurações e valores gravados mais recentemente são aplicados quando o próximo agente lê do local de armazenamento de configurações.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-141">The most recently written settings and values are applied when the next agent reads from the settings storage location.</span></span>

![processo de gerador de UE-v](images/ue-vgeneratorprocess.gif)

## <span data-ttu-id="9e9d2-143">Catálogo de modelos de configurações</span><span class="sxs-lookup"><span data-stu-id="9e9d2-143">Settings template catalog</span></span>


<span data-ttu-id="9e9d2-144">O catálogo de modelos de configurações é um caminho de pasta em computadores de UE-V ou um compartilhamento de rede de servidor de mensagens (SMB) que armazena todos os modelos de local de configurações personalizadas.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-144">The settings template catalog is a folder path on UE-V computers or a Server Message Block (SMB) network share that stores all the custom settings location templates.</span></span> <span data-ttu-id="9e9d2-145">O UE-V Agent recupera modelos novos ou atualizados deste local.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-145">The UE-V agent retrieves new or updated templates from this location.</span></span> <span data-ttu-id="9e9d2-146">O UE-V Agent verifica esse local uma vez por dia e atualiza seu comportamento de sincronização com base nos modelos desta pasta.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-146">The UE-V agent checks this location once each day and it updates its synchronization behavior based on the templates in this folder.</span></span> <span data-ttu-id="9e9d2-147">Os modelos que foram adicionados ou atualizados nesta pasta desde a última verificação são registrados pelo UE-V Agent.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-147">The templates that were added or updated in this folder since the last check are registered by the UE-V agent.</span></span> <span data-ttu-id="9e9d2-148">O UE-V Agent cancela o registro dos modelos que foram removidos desta pasta.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-148">The UE-V agent deregisters the templates that were removed from this folder.</span></span> <span data-ttu-id="9e9d2-149">Os modelos são registrados e não registrados uma vez por dia pelo Agendador de tarefas.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-149">Templates are registered and unregistered one time per day by the task scheduler.</span></span> <span data-ttu-id="9e9d2-150">Se você usar somente os modelos de local de configurações padrão que estão incluídos no UE-V, um catálogo de modelos de configurações é desnecessário.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-150">If you will use only the default settings location templates that are included with UE-V, then a settings template catalog is unnecessary.</span></span> <span data-ttu-id="9e9d2-151">Para obter mais informações sobre os catálogos de implantação de configurações, consulte [planejando a implantação de modelos personalizados para o UE-V 1,0](planning-for-custom-template-deployment-for-ue-v-10.md).</span><span class="sxs-lookup"><span data-stu-id="9e9d2-151">For more information about settings deployment catalogs, see [Planning for Custom Template Deployment for UE-V 1.0](planning-for-custom-template-deployment-for-ue-v-10.md).</span></span>

## <span data-ttu-id="9e9d2-152">Gerador de virtualização da experiência do usuário</span><span class="sxs-lookup"><span data-stu-id="9e9d2-152">User Experience Virtualization Generator</span></span>


<span data-ttu-id="9e9d2-153">O gerador de virtualização da experiência do usuário permite criar modelos de local de configurações personalizadas que armazenarão os locais de configurações dos aplicativos que são usados na empresa e que você deseja incluir na solução de configurações de roaming.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-153">The User Experience Virtualization Generator enables you to create custom settings location templates which will store the settings locations of the applications that are used in the enterprise and that you want to include in the roaming settings solution.</span></span> <span data-ttu-id="9e9d2-154">O gerador do UE-V buscará descobrir os locais dos valores do registro e os arquivos de configurações para os aplicativos e, em seguida, gravará esses locais em um arquivo XML de modelo de local de configurações.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-154">The UE-V Generator will seek to discover the locations of registry values and the settings files for applications and then it will record those locations in a settings location template XML file.</span></span> <span data-ttu-id="9e9d2-155">Em seguida, você pode distribuir esses modelos de locais de configurações para os computadores dos usuários.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-155">You can then distribute these settings location templates to the user computers.</span></span> <span data-ttu-id="9e9d2-156">O gerador UE-V também permite que um administrador edite um modelo existente ou valide um modelo que foi criado com outro editor de XML.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-156">The UE-V Generator also allows an administrator to edit an existing template or validate a template that was created with another XML editor.</span></span>

<span data-ttu-id="9e9d2-157">O gerador do UE-V monitora um aplicativo para descobrir e gravar onde ele armazena suas configurações.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-157">The UE-V Generator monitors an application to discover and record where it stores its settings.</span></span> <span data-ttu-id="9e9d2-158">Para fazer isso, ele monitora onde o aplicativo lê ou grava na hKey \ _CURRENT \ _USER registro ou nas pastas de arquivo em **usuários** \ \ \ [nome de usuário \] \ \ **AppData**  \\  **roaming e usuários** \ \ \ [nome de usuário \] \ \ **AppData**  \\  **local**.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-158">To do this, it monitors where the application reads or writes in the HKEY\_CURRENT\_USER registry or in the file folders under **Users** \\ \[User name\] \\ **AppData** \\ **Roaming and Users** \\ \[User name\] \\ **AppData** \\ **Local**.</span></span>

<span data-ttu-id="9e9d2-159">O processo de descoberta exclui os arquivos e as chaves do registro aos quais o usuário conectado não pode gravar valores.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-159">The discovery process excludes registry keys and files to which the logged-in user cannot write values.</span></span> <span data-ttu-id="9e9d2-160">Nenhum deles será incluído no arquivo XML.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-160">None of these will be included in the XML file.</span></span> <span data-ttu-id="9e9d2-161">O processo de descoberta também exclui as chaves do registro e os arquivos associados à funcionalidade central do sistema operacional Windows.</span><span class="sxs-lookup"><span data-stu-id="9e9d2-161">The discovery process also excludes registry keys and files that are associated with the core functionality of the Windows operating system.</span></span>

<span data-ttu-id="9e9d2-162">Para obter mais informações sobre o UE-V Generator, consulte [instalando o UE-v Generator](installing-the-ue-v-generator.md).</span><span class="sxs-lookup"><span data-stu-id="9e9d2-162">For more information about the UE-V Generator, see [Installing the UE-V Generator](installing-the-ue-v-generator.md).</span></span>

## <span data-ttu-id="9e9d2-163">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="9e9d2-163">Related topics</span></span>


[<span data-ttu-id="9e9d2-164">Virtualização da Experiência do Usuário Microsoft (UE-V) 1.0</span><span class="sxs-lookup"><span data-stu-id="9e9d2-164">Microsoft User Experience Virtualization (UE-V) 1.0</span></span>](index.md)

[<span data-ttu-id="9e9d2-165">Introdução à User Experience Virtualization 1.0</span><span class="sxs-lookup"><span data-stu-id="9e9d2-165">Getting Started With User Experience Virtualization 1.0</span></span>](getting-started-with-user-experience-virtualization-10.md)

[<span data-ttu-id="9e9d2-166">Sobre a User Experience Virtualization 1.0</span><span class="sxs-lookup"><span data-stu-id="9e9d2-166">About User Experience Virtualization 1.0</span></span>](about-user-experience-virtualization-10.md)

[<span data-ttu-id="9e9d2-167">Como trabalhar com modelos personalizados da UE-V e com o gerador da UE-V</span><span class="sxs-lookup"><span data-stu-id="9e9d2-167">Working with Custom UE-V Templates and the UE-V Generator</span></span>](working-with-custom-ue-v-templates-and-the-ue-v-generator.md)

 

 





