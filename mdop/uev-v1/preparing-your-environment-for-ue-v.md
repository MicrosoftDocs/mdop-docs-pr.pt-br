---
title: Como preparar seu ambiente para a UE-V
description: Como preparar seu ambiente para a UE-V
author: dansimp
ms.assetid: c93d3b33-e032-451a-9e1b-8534e1625396
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 8f806f3c326bad5204a7f1ee69e11b61177e3cce
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/26/2020
ms.locfileid: "10799514"
---
# <span data-ttu-id="070c6-103">Como preparar seu ambiente para a UE-V</span><span class="sxs-lookup"><span data-stu-id="070c6-103">Preparing Your Environment for UE-V</span></span>


<span data-ttu-id="070c6-104">As configurações de roaming do Microsoft User Experience Virtualization (UE-V) entre computadores pelo uso de um local de armazenamento de configurações.</span><span class="sxs-lookup"><span data-stu-id="070c6-104">Microsoft User Experience Virtualization (UE-V) roams settings between computers by the use of a settings storage location.</span></span> <span data-ttu-id="070c6-105">O local de armazenamento de configurações é um compartilhamento de arquivos e deve ser configurado durante a implantação do agente do UE-V.</span><span class="sxs-lookup"><span data-stu-id="070c6-105">The settings storage location is a file share and should be configured during the UE-V Agent deployment.</span></span> <span data-ttu-id="070c6-106">Ele deve ser definido como um local de armazenamento de configurações ou como um diretório base do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="070c6-106">It must be defined either as a settings storage location or as an Active Directory home directory.</span></span> <span data-ttu-id="070c6-107">Além disso, o administrador deve configurar um servidor de horário para dar suporte à sincronização consistente.</span><span class="sxs-lookup"><span data-stu-id="070c6-107">In addition, the administrator should configure a time server to support consistent synchronization.</span></span> <span data-ttu-id="070c6-108">Para preparar seu ambiente para UE-V, considere o seguinte:</span><span class="sxs-lookup"><span data-stu-id="070c6-108">To prepare your environment for UE-V, you should consider the following:</span></span>

-   <span data-ttu-id="070c6-109">[Armazenamento de configurações do UE-V](#bkmk-uevsettingsstorage):</span><span class="sxs-lookup"><span data-stu-id="070c6-109">[UE-V Settings Storage](#bkmk-uevsettingsstorage):</span></span>

    -   [<span data-ttu-id="070c6-110">Definindo um local de armazenamento de configurações</span><span class="sxs-lookup"><span data-stu-id="070c6-110">Defining a Settings Storage Location</span></span>](#bkmk-definingsettingsstoragelocation)

    -   [<span data-ttu-id="070c6-111">Usando o diretório inicial do Active Directory com UE-V</span><span class="sxs-lookup"><span data-stu-id="070c6-111">Using Active Directory Home Directory with UE-V</span></span>](#bkmk-usingactivedirectoryhomedirectory)

-   [<span data-ttu-id="070c6-112">Sincronizar os relógios do computador para a sincronização de configurações do UE-V</span><span class="sxs-lookup"><span data-stu-id="070c6-112">Synchronize Computer Clocks for UE-V Settings Synchronization</span></span>](#bkmk-synchronizecomputerclocks)

-   [<span data-ttu-id="070c6-113">Desempenho e planejamento de capacidade</span><span class="sxs-lookup"><span data-stu-id="070c6-113">Performance and Capacity Planning</span></span>](#bkmk-performancecapacityplanning)

<span data-ttu-id="070c6-114">Para obter mais informações sobre os requisitos do sistema operacional e do computador, consulte [configurações com suporte para o UE-V 1,0](supported-configurations-for-ue-v-10.md).</span><span class="sxs-lookup"><span data-stu-id="070c6-114">For more information about operating system and computer requirements, see [Supported Configurations for UE-V 1.0](supported-configurations-for-ue-v-10.md).</span></span>

## <a href="" id="bkmk-uevsettingsstorage"></a><span data-ttu-id="070c6-115">Armazenamento de configurações do UE-V</span><span class="sxs-lookup"><span data-stu-id="070c6-115">UE-V settings storage</span></span>


<span data-ttu-id="070c6-116">Você pode definir o armazenamento de configurações de virtualização da experiência do usuário em uma das duas configurações: um local de armazenamento de configurações ou um diretório base do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="070c6-116">You can define the User Experience Virtualization settings storage in one of two configurations: a settings storage location or an Active Directory home directory.</span></span>

### <a href="" id="bkmk-definingsettingsstoragelocation"></a><span data-ttu-id="070c6-117">Definir um local de armazenamento de configurações</span><span class="sxs-lookup"><span data-stu-id="070c6-117">Define a settings storage location</span></span>

<span data-ttu-id="070c6-118">O local de armazenamento de configurações do UE-V é um compartilhamento de rede padrão acessível a usuários do UE-V.</span><span class="sxs-lookup"><span data-stu-id="070c6-118">The UE-V settings storage location is a standard network share that is accessible by UE-V users.</span></span> <span data-ttu-id="070c6-119">Antes de definir o local de armazenamento de configurações, você deve criar um diretório raiz.</span><span class="sxs-lookup"><span data-stu-id="070c6-119">Before you define the settings storage location, you must create a root directory.</span></span> <span data-ttu-id="070c6-120">Os usuários que armazenam configurações no compartilhamento devem ter permissões de leitura/gravação para o local de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="070c6-120">Users who will store settings on the share must have read/write permissions to the storage location.</span></span> <span data-ttu-id="070c6-121">O UE-V Agent criará pastas específicas do usuário neste diretório raiz.</span><span class="sxs-lookup"><span data-stu-id="070c6-121">The UE-V Agent will create user-specific folders under this root directory.</span></span> <span data-ttu-id="070c6-122">O local de armazenamento de configurações é definido definindo a opção de configuração **SettingsStoragePath** .</span><span class="sxs-lookup"><span data-stu-id="070c6-122">The settings storage location is defined by setting the **SettingsStoragePath** configuration option.</span></span> <span data-ttu-id="070c6-123">Essa opção pode ser configurada das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="070c6-123">This option can be configured in the following ways:</span></span>

-   <span data-ttu-id="070c6-124">Durante a instalação do UE-V Agent por meio de um parâmetro de linha de comando ou em um script em lote.</span><span class="sxs-lookup"><span data-stu-id="070c6-124">During the installation of the UE-V agent through a command-line parameter or in a batch script.</span></span>

-   <span data-ttu-id="070c6-125">Usando a política de grupo.</span><span class="sxs-lookup"><span data-stu-id="070c6-125">Using Group Policy.</span></span>

-   <span data-ttu-id="070c6-126">Após a instalação, usando o PowerShell ou WMI.</span><span class="sxs-lookup"><span data-stu-id="070c6-126">After installation, by using PowerShell or WMI.</span></span>

<span data-ttu-id="070c6-127">O caminho deve estar em um caminho UNC (Convenção Universal de nomenclatura) do servidor e do compartilhamento.</span><span class="sxs-lookup"><span data-stu-id="070c6-127">The path must be in a universal naming convention (UNC) path of the server and share.</span></span> <span data-ttu-id="070c6-128">Por exemplo, **\\\\server\\settingsshare\\**.</span><span class="sxs-lookup"><span data-stu-id="070c6-128">For example, **\\\\server\\settingsshare\\**.</span></span> <span data-ttu-id="070c6-129">Essa opção de configuração oferece suporte ao uso de variáveis para habilitar cenários de roaming específicos.</span><span class="sxs-lookup"><span data-stu-id="070c6-129">This configuration option supports the use of variables to enable specific roaming scenarios.</span></span>

<span data-ttu-id="070c6-130">Você pode usar a `%username%` variável com o caminho UNC do servidor e do compartilhamento.</span><span class="sxs-lookup"><span data-stu-id="070c6-130">You can use the `%username%` variable with the UNC path of the server and share.</span></span> <span data-ttu-id="070c6-131">Isso fornecerá a mesma experiência de configurações em todos os computadores ou sessões nos quais um usuário faz logon.</span><span class="sxs-lookup"><span data-stu-id="070c6-131">This will provide the same settings experience on all computers or sessions that a user logs into.</span></span> <span data-ttu-id="070c6-132">Considere essa configuração para os seguintes cenários:</span><span class="sxs-lookup"><span data-stu-id="070c6-132">Consider this configuration for the following scenarios:</span></span>

1.  <span data-ttu-id="070c6-133">Os usuários da empresa têm vários computadores físicos configurados de maneira semelhante e as configurações de cada usuário devem ser iguais em todos os computadores.</span><span class="sxs-lookup"><span data-stu-id="070c6-133">Users in the enterprise have multiple, similarly configured physical computers and each user’s settings should be the same across all computers.</span></span>

2.  <span data-ttu-id="070c6-134">Os usuários da empresa usam pools da VDI (Virtual Desktop Infrastructure) onde as configurações devem ser mantidas nas sessões de VDI de cada usuário.</span><span class="sxs-lookup"><span data-stu-id="070c6-134">Users in the enterprise use virtual desktop infrastructure (VDI) pools where settings should be retained across each user’s VDI sessions.</span></span>

3.  <span data-ttu-id="070c6-135">Os usuários da empresa têm um computador físico e também usam uma VDI.</span><span class="sxs-lookup"><span data-stu-id="070c6-135">Users in the enterprise have one physical computer and additionally use a VDI.</span></span> <span data-ttu-id="070c6-136">A experiência das configurações de cada usuário deve ser a mesma se estiver usando o computador físico ou a sessão de VDI.</span><span class="sxs-lookup"><span data-stu-id="070c6-136">Each user’s settings experience should be the same whether using the physical computer or VDI session.</span></span>

4.  <span data-ttu-id="070c6-137">Vários computadores empresariais são usados por vários usuários.</span><span class="sxs-lookup"><span data-stu-id="070c6-137">Multiple enterprise computers are used by multiple users.</span></span> <span data-ttu-id="070c6-138">A experiência das configurações de cada usuário deve ser a mesma em todos os computadores.</span><span class="sxs-lookup"><span data-stu-id="070c6-138">Each user’s settings experience should be the same across all computers.</span></span>

<span data-ttu-id="070c6-139">Você pode usar as variáveis **%username%\\%ComputerName%** com o caminho UNC do servidor e do compartilhamento.</span><span class="sxs-lookup"><span data-stu-id="070c6-139">You can use the **%username%\\%computername%** variables with the UNC path of the server and share.</span></span> <span data-ttu-id="070c6-140">Isso irá preservar a experiência de configurações para cada computador.</span><span class="sxs-lookup"><span data-stu-id="070c6-140">This will preserve the settings experience for each computer.</span></span> <span data-ttu-id="070c6-141">Considere essa configuração para os seguintes cenários:</span><span class="sxs-lookup"><span data-stu-id="070c6-141">Consider this configuration for the following scenarios:</span></span>

1.  <span data-ttu-id="070c6-142">Os usuários da empresa têm vários computadores físicos e você deseja preservar a experiência de configurações para cada computador.</span><span class="sxs-lookup"><span data-stu-id="070c6-142">Users in the enterprise have multiple physical computers and you want to preserve the settings experience for each computer.</span></span>

2.  <span data-ttu-id="070c6-143">Os computadores da empresa são usados por vários usuários.</span><span class="sxs-lookup"><span data-stu-id="070c6-143">The enterprise computers are used by multiple users.</span></span> <span data-ttu-id="070c6-144">A experiência das configurações deve ser preservada para cada computador no qual o usuário faz logon.</span><span class="sxs-lookup"><span data-stu-id="070c6-144">The settings experience should be preserved for each computer that the user logs into.</span></span>

<span data-ttu-id="070c6-145">O UE-V Agent cria dinamicamente o caminho de armazenamento de configurações específicas do usuário com base em uma configuração de UE-V `SettingsStoragePath` e nas variáveis definidas.</span><span class="sxs-lookup"><span data-stu-id="070c6-145">The UE-V agent dynamically creates the user-specific settings storage path based on a UE-V `SettingsStoragePath` configuration setting and the variables that are defined.</span></span>

<span data-ttu-id="070c6-146">O UE-V Agent cria dinamicamente uma pasta de sistema oculta `SettingsPackages` com o nome de cada local de armazenamento específico do usuário.</span><span class="sxs-lookup"><span data-stu-id="070c6-146">The UE-V agent dynamically creates a hidden system folder named `SettingsPackages` within each user-specific storage location.</span></span> <span data-ttu-id="070c6-147">O UE-V Agent lê e grava as configurações para este local, conforme definido pelos modelos de localização de configurações de UE-V registrados.</span><span class="sxs-lookup"><span data-stu-id="070c6-147">The UE-V agent reads and writes settings to this location as defined by registered UE-V settings location templates.</span></span>

<span data-ttu-id="070c6-148">Se o local de armazenamento de configurações for o mesmo para um conjunto de computadores gerenciados de um usuário, as configurações de UE-V aplicáveis são determinadas por uma regra "última gravação de WINS".</span><span class="sxs-lookup"><span data-stu-id="070c6-148">If the settings storage location is the same for a set of managed computers of a user, the applicable UE-V settings are determined by a “Last write wins” rule.</span></span> <span data-ttu-id="070c6-149">O agente executado em um computador lê e grava no local de configurações independentemente dos agentes executados em outros computadores.</span><span class="sxs-lookup"><span data-stu-id="070c6-149">The agent that runs on one computer reads and writes to the settings location independently of agents that run on other computers.</span></span> <span data-ttu-id="070c6-150">As últimas configurações e valores gravados são as configurações aplicadas quando o próximo agente lê do local de armazenamento de configurações.</span><span class="sxs-lookup"><span data-stu-id="070c6-150">The last settings and values written are the settings that are applied when the next agent reads from the settings storage location.</span></span> <span data-ttu-id="070c6-151">Para obter mais informações, consulte [implantando o local de armazenamento de configurações para UE-V 1,0](deploying-the-settings-storage-location-for-ue-v-10.md).</span><span class="sxs-lookup"><span data-stu-id="070c6-151">For more information, see [Deploying the Settings Storage Location for UE-V 1.0](deploying-the-settings-storage-location-for-ue-v-10.md).</span></span>

### <a href="" id="bkmk-usingactivedirectoryhomedirectory"></a><span data-ttu-id="070c6-152">Usar diretório inicial do Active Directory com UE-V</span><span class="sxs-lookup"><span data-stu-id="070c6-152">Use Active Directory home directory with UE-V</span></span>

<span data-ttu-id="070c6-153">Se nenhuma localização de armazenamento de configurações estiver configurada para UE-V quando o agente for implantado, o diretório base do Active Directory (AD) do usuário será usado para armazenar os pacotes de local de configurações.</span><span class="sxs-lookup"><span data-stu-id="070c6-153">If no settings storage location is configured for UE-V when the agent is deployed, then the user’s Active Directory (AD) home directory is used to store settings location packages.</span></span> <span data-ttu-id="070c6-154">O UE-V Agent cria dinamicamente a pasta de armazenamento de configurações abaixo da raiz do diretório base do AD de cada usuário.</span><span class="sxs-lookup"><span data-stu-id="070c6-154">The UE-V agent dynamically creates the settings storage folder below the root of the AD home directory of each user.</span></span> <span data-ttu-id="070c6-155">O agente usará somente o diretório base do Active Directory se um local de armazenamento de configurações (SettingsStoragePath) não for definido de outra forma.</span><span class="sxs-lookup"><span data-stu-id="070c6-155">The agent only uses the Active Directory home directory if a settings storage location (SettingsStoragePath) is not otherwise defined.</span></span>

## <a href="" id="bkmk-synchronizecomputerclocks"></a><span data-ttu-id="070c6-156">Sincronizar os relógios do computador para a sincronização de configurações do UE-V</span><span class="sxs-lookup"><span data-stu-id="070c6-156">Synchronize computer clocks for UE-V settings synchronization</span></span>


<span data-ttu-id="070c6-157">Os computadores que executam o UE-V Agent para sincronizar as configurações devem usar um servidor de tempo.</span><span class="sxs-lookup"><span data-stu-id="070c6-157">Computers that run the UE-V agent to synchronize settings must use a time server.</span></span> <span data-ttu-id="070c6-158">Carimbos de data/hora são usados para determinar se as configurações precisam ser sincronizadas do local de armazenamento de configurações.</span><span class="sxs-lookup"><span data-stu-id="070c6-158">Time stamps are used to determine if settings need to be synchronized from the settings storage location.</span></span> <span data-ttu-id="070c6-159">Se o relógio do computador não for exato, as configurações mais antigas podem substituir as configurações mais recentes, ou as novas configurações podem não ser salvas no local de armazenamento de configurações.</span><span class="sxs-lookup"><span data-stu-id="070c6-159">If the computer clock is inaccurate, older settings can overwrite newer settings, or the new settings might not be saved to the settings storage location.</span></span> <span data-ttu-id="070c6-160">O uso de um servidor de tempo permite que o UE-V mantenha uma experiência de configuração consistente.</span><span class="sxs-lookup"><span data-stu-id="070c6-160">The use of a time server enables UE-V to maintain a consistent settings experience.</span></span>

## <a href="" id="bkmk-performancecapacityplanning"></a><span data-ttu-id="070c6-161">Desempenho e planejamento de capacidade</span><span class="sxs-lookup"><span data-stu-id="070c6-161">Performance and capacity planning</span></span>


<span data-ttu-id="070c6-162">Os requisitos de capacidade para UE-V podem ser determinados pelo uso da capacidade de disco padrão e do monitoramento da integridade da rede.</span><span class="sxs-lookup"><span data-stu-id="070c6-162">Capacity requirements for UE-V can be determined by use of standard disk capacity and network health monitoring.</span></span> <span data-ttu-id="070c6-163">O UE-V usa um compartilhamento SMB (Server Message Block) para o armazenamento de pacotes de configurações.</span><span class="sxs-lookup"><span data-stu-id="070c6-163">UE-V uses a Server Message Block (SMB) share for the storage of settings packages.</span></span> <span data-ttu-id="070c6-164">O tamanho dos pacotes de configurações varia de acordo com as informações de configuração de um aplicativo específico.</span><span class="sxs-lookup"><span data-stu-id="070c6-164">The size of settings packages varies depending on the settings information for a specific application.</span></span> <span data-ttu-id="070c6-165">Embora a maioria dos pacotes de configurações seja pequena, a sincronização de arquivos potencialmente grandes, como imagens da área de trabalho, pode resultar em desempenho ruim, principalmente em redes mais lentas.</span><span class="sxs-lookup"><span data-stu-id="070c6-165">While most settings packages are small, the synchronization of potentially large files, such as desktop images, can result in poor performance, particularly on slower networks.</span></span> <span data-ttu-id="070c6-166">Para minimizar problemas de latência da rede, você deve criar locais de armazenamento de configurações nas mesmas redes locais em que os computadores dos usuários residem.</span><span class="sxs-lookup"><span data-stu-id="070c6-166">To minimize problems with network latency, you should create settings storage locations on the same local networks where the users’ computers reside.</span></span>

<span data-ttu-id="070c6-167">Por padrão, a sincronização do UE-V irá expirar após 2 segundos se a rede estiver lenta ou o pacote de configurações for grande.</span><span class="sxs-lookup"><span data-stu-id="070c6-167">By default, the UE-V synchronization will time out after 2 seconds if the network is slow or the settings package is large.</span></span> <span data-ttu-id="070c6-168">Você pode configurar o tempo limite com a política de grupo.</span><span class="sxs-lookup"><span data-stu-id="070c6-168">You can configure the timeout with Group Policy.</span></span> <span data-ttu-id="070c6-169">Para obter mais informações sobre como definir o tempo limite, consulte [Configurando o UE-V com objetos de política de grupo](configuring-ue-v-with-group-policy-objects.md).</span><span class="sxs-lookup"><span data-stu-id="070c6-169">For more information about how to set the timeout, see [Configuring UE-V with Group Policy Objects](configuring-ue-v-with-group-policy-objects.md).</span></span>

## <span data-ttu-id="070c6-170">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="070c6-170">Related topics</span></span>


[<span data-ttu-id="070c6-171">Virtualização da Experiência do Usuário Microsoft (UE-V) 1.0</span><span class="sxs-lookup"><span data-stu-id="070c6-171">Microsoft User Experience Virtualization (UE-V) 1.0</span></span>](index.md)

[<span data-ttu-id="070c6-172">Planejamento para a UE-V 1.0</span><span class="sxs-lookup"><span data-stu-id="070c6-172">Planning for UE-V 1.0</span></span>](planning-for-ue-v-10.md)

[<span data-ttu-id="070c6-173">Configurações com suporte para a UE-V 1.0</span><span class="sxs-lookup"><span data-stu-id="070c6-173">Supported Configurations for UE-V 1.0</span></span>](supported-configurations-for-ue-v-10.md)

 

 





